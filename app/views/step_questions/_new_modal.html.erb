<%= turbo_frame_tag "remote_modal", target: "_top" do %>
  <div class="modal fade" id="questionNewModal" tabindex="-1" aria-labelledby="Nova Questão" aria-hidden="true"
       data-controller="bs-modal"
       data-action="turbo:submit-end->bs-modal#close">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Nova Questão</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <%= simple_form_for @question, url: step_questions_path, local: true, method: :post do |form| %>
          <div class="modal-body">
            <div class="row">
              <div class="col-lg-12">
                <div class="form-group">
                  <%= form.label :title, 'Questão' %>
                  <%= form.input :title, required: true, label: false, input_html: { class: 'form-control bg-white' } %>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <div class="form-group">
                  <%= form.label :question_type, 'Tipo' %>
                  <%= form.input :question_type, as: :select, collection: StepQuestion.question_types.keys, required: true, label: false, input_html: { class: 'form-control bg-white' } %>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <div class="form-group">
                  <%= form.label :step_id, 'Step' %>
                  <%= form.input :step_id, as: :select, collection: @steps, required: true, label: false, input_html: { class: 'form-control bg-white' } %>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12">
                <div class="form-group">
                  <%= form.label :limit, 'Máximo de Caracteres/Respostas' %>
                  <%= form.input :limit, required: true, label: false, input_html: { type: 'number', class: 'form-control bg-white' } %>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            <%= form.submit 'Salvar', class: "btn btn-primary" %> <!-- data: { action: 'click->bs-modal#submitEnd' } -->
          </div>
        <% end %>
      </div>
    </div>
  </div>
<% end %>