<%
  view = false unless view&.present?
  user = current_user unless user&.present?
%>
<div class="card-details-profile d-flex gap-3">
  <div class="d-flex align-items-center justify-content-between line-bottom">
    <p class="m-0 fw-bold">Perfil - Detalhes</p>
    <% unless view %>
      <%= button_to "Editar Perfil", user_settings_path, method: :get, class: "btn-edit-profile mb-4" %>
    <% end %>
  </div>
  <div class="mt-4">
    <div class="mx-5 fw-bold">
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Nome Completo</p>
        <p class="txt-p col-6 m-0"><%= user.name %></p>
      </div>
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Género</p>
        <p class="txt-p col-6 m-0"><%= user.gender %></p>
      </div>
      <!-- Age -->
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Idade</p>
        <p class="txt-p col-6 m-0"><%= user.age %></p>
      </div>
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Email</p>
        <p class="txt-p col-6 m-0"><%= user.email %></p>
      </div>
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Contato telemóvel</p>
        <p class="txt-p col-6 m-0"><%= user.phone %></p>
      </div>
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">País</p>
        <p class="txt-p col-6 m-0"><%= user.country %></p>
      </div>
      <div class="d-flex align-items-center justify-content-between border-bottom my-2 py-2">
        <p class="txt-title col-6 m-0">Cidade</p>
        <p class="txt-p col-6 m-0"><%= user.city %></p>
      </div>
    </div>
  </div>
  <!-- Data Protection Divulgation Consent Display -->
  <div class="mx-5 mt-2">
    <p class="txt-title fw-bold">Consentimento para Divulgação:</p>
    <p class="txt-p col-12">
      <% if user.data_protection_divulgation %>
        Concordo com a receção de informação de divulgação
      <% else %>
        Sem consentimento
      <% end %>
    </p>
  </div>

  <div class="mx-5">
    <p class="txt-title fw-bold">Sobre mim</p>
    <p class="txt-p col-12"><%= user.about_me %></p>
  </div>
</div>
